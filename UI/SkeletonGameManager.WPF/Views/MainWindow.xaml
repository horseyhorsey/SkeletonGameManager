<Window x:Class="SkeletonGameManager.WPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:views="clr-namespace:SkeletonGameManager.WPF.Views"
        prism:ViewModelLocator.AutoWireViewModel="True"       
        WindowStyle="None" ResizeMode="CanResizeWithGrip"
        AllowsTransparency="True" ShowInTaskbar="True"
        Background="Transparent"        
        
        Title="{Binding Title}" Width="1024" Height="768">

    <Window.Resources>
        <Style x:Key="ChromeWindow" TargetType="{x:Type views:MainWindow}">
            
            <Setter Property="WindowChrome.WindowChrome">
                <Setter.Value>
                    <WindowChrome GlassFrameThickness="1"
                                  ResizeBorderThickness="5"
                                  CaptionHeight="20"
                                  />
                </Setter.Value>
            </Setter>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type views:MainWindow}">
                        
                        <Grid>
                            <!--DISPLAY WINDOW CONTENT-->
                            <Border Background="LightGray" CornerRadius="0,15,0,0">
                                <ContentPresenter Content="{TemplateBinding Content}"/>
                            </Border>
                            
                            <!--BEHIND WINDOW-->
                            <Border CornerRadius="15"
                                    Background="SlateGray"
                                    BorderThickness="5"
                                    Grid.ZIndex="-1">
                            </Border>

                            <Grid Margin="15"  >

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!--TITLE-->
                                <StackPanel Orientation="Horizontal">
                                    
                                    <ContentPresenter Margin="5" Content="{StaticResource Path_Skele}"/>
                                    
                                    <TextBlock Grid.Row="0" Text="SkeletonGame Manager" 
                                               FontSize="24" FontStyle="Italic"
                                               FontWeight="DemiBold" Margin="5,10,0,0"
                                               />

                                    <DockPanel Margin="3" Grid.Row="2" VerticalAlignment="Bottom">

                                        <Menu VerticalAlignment="Bottom">
                                            
                                            <MenuItem Header="Options">
                                                <MenuItem Header="New" Command="{Binding CreateNewGameCommand}">
                                                </MenuItem> 
                                            </MenuItem>
                                        </Menu>

                                        <!--HEADER-->
                                        <TextBlock Text="{StaticResource GameFolder}" Margin="20,0"
                                                   FontStyle="Italic" VerticalAlignment="Bottom"
                                                   FontWeight="Bold"
                                                   DockPanel.Dock="Left"/>

                                        <!--GAME FOLDER-->
                                        <TextBox Text="{Binding GameFolder, UpdateSourceTrigger=PropertyChanged}" 
                                            MinWidth="300" MaxHeight="20" DockPanel.Dock="Left"
                                            ToolTip="Current skeleton game folder"
                                                />

                                        <!--LOAD YAMLS-->
                                        <Button Content="Load" MaxWidth="50"
                                                DockPanel.Dock="Right" 
                                                ToolTip="Load yaml entries"
                                                Command="{Binding RefreshObjectsCommand}"
                                                />

                                        <!--SET DIR-->
                                        <Button Content="..." MaxWidth="50" DockPanel.Dock="Right" ToolTip="Set game folder"
                                            Command="{Binding SetDirectoryCommand}"
                                                />

                                    </DockPanel>
                                </StackPanel>

                                <Separator Grid.Row="1" Background="White"/>

                                <!--YAML CONFIG VIEWS-->
                                <TabControl Grid.Row="3" Margin="3" IsEnabled="{Binding IsMainTabEnabled}">

                                    <!--SKELETON GAME CONFIG-->
                                    <TabItem Header="Config.yaml">
                                        <ContentControl prism:RegionManager.RegionName="ConfigRegion" />
                                    </TabItem>

                                    <!--MACHINE CONFIG-->
                                    <TabItem Header="Machine.yaml" IsEnabled="{Binding IsMachineConfigEnabled}">
                                        <ContentControl prism:RegionManager.RegionName="MachineRegion" />
                                    </TabItem>

                                    <!--SKELETON GAME ASSETS-->
                                    <TabItem>
                                        <TabItem.Header>
                                            <DockPanel>
                                                <TextBlock Text="asset_list.yaml" Margin="3"/>
                                                <Button Content="{StaticResource Path_Dir}"
                                                        Command="{Binding OpenFileFolderCommand}"
                                                        CommandParameter="asset_list.yaml"
                                                        DockPanel.Dock="Right" Height="15" Width="20" VerticalAlignment="Center"/>
                                            </DockPanel>    
                                        </TabItem.Header>
                                        
                                        <ContentControl prism:RegionManager.RegionName="AssetsRegion"/>
                                    </TabItem>

                                    <!--SKELETON GAME ATTRACT-->
                                    <TabItem Header="Attract.yaml">
                                        <ContentControl prism:RegionManager.RegionName="AttractRegion"/>
                                    </TabItem>

                                    <!--SKELETON GAME ATTRACT-->
                                    <TabItem Header="Sequences">
                                        <ContentControl prism:RegionManager.RegionName="SequencesRegion"/>
                                    </TabItem>

                                    <TabItem Header="Scene Grab">

                                        <ContentControl prism:RegionManager.RegionName="ScenesRegion"/>

                                    </TabItem>

                                </TabControl>

                            </Grid>

                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
</Window>

